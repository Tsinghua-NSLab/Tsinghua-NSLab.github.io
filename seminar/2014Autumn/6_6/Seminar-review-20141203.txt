Overview[edit]Title: CONGA: Distributed Congestion-Aware Load Balancing
Source: SIGCOMM'14
Attendee: Prof. Li, Prof. Xue, Zhen Chen, Xiang Wang, Feng Xie, Yiyang Shao, Zhe Fu, Chang Chen, Xiaohe Hu, Wenxun Zheng, Jun Yang, Dongfang Li, Zhenghui Lai, Changsheng Zhang.
Speaker: Yiyang Shao
Recorder: Xiang Wang
Presentation[edit]Motivation
Ideal DC network: big output-queued switch
Single-rooted tree: high oversubscription
Multi-rooted tree: full bisection bandwidth
But multi-rooted != ideal DC Network
The need of precise load balancing
ECMP is difficult to deal with asymmetryCONGA
Opportunity
Latency: microseconds
Topology: Simple, regular
Challenge
Traffic: volatile, burstry
Principle
Leaf switches track congestion to other leaves on different paths in near real-time
Use greedy decisions to minimize bottleneck uti
Design
Wire format: LBTag, CE, FB_LBTag, and FB_Metric in VXLAN encap header
Flowlet Table (5-tuple hash table): port number, valid bit, age bit
Congestion-To-Leaf Table: for load balancing decision
Congestion-From-Leaf Table: for storage of congestion metric
Implementation
Cisco ACI DC Fabric: 25,000 non-blocking 10G ports (2-tier Leaf-Spine)
Evaluation
CONGA outperforms ECMP and MPTCP when link failure existsDiscussion[edit]Jun Li: 为什么低测量延时+细粒度的测量单位就能保证系统稳定不抖动？
Yiyang Shao: 文中没有给出详细的说明，slides中提到“Observe changes faster than they can happen”Chang Chen: 由于在路径上，只记录链路利用率的最大值，那两张Congestion表的值是否可以下降？
Yiyang Shao: 某个特定的Flowlet是记录当前的最大值，但多个Flowlet会不断利用当前链路上的负载来更新此值。Zhen Chen: 必须是leaf-spin的结构？多层结构是否可行？
Yiyang Shao: LB决策只在leaf上做，spin只负责修改网包中的链路利用率，任务不多。多层的话设计和效果可能都会受影响，作者在文中提到会有future work。Jun Li: 根据评测结果，该系统应是重点解决了由于link failure导致的asymmetry，而symmetry下ECMP应该能分匀。Xiang Wang: 文章描述的是in-band control的实现方式，但提到在ACI进行了实现。不知道与ACI的控制器间是否有交互。