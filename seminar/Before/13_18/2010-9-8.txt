Scalable Flow-Based Networking with DIFANE[edit]Spearker: Fei He
Attendants: Prof. Li, Prof. Xue, Jin Zhou, Zhen Chen, Li Tang, Hui Zhang, Zhiming Zhang, Jeffrey Fong, Kai Wang, Jinli Meng
Recoder: Xinming Chen
Content:
DIFANE:A scalable way to apply fine-grained policies in enterprises 
DIstributed Flow Architecture for Networked EnterprisesDIFANE is aiming at: Flexible Policies in Enterprises
Using Flow-based Switches
Install rules in flow-based switches
Store rules in high speed memory (TCAM)Challenges of Policy-Based Management
Large number of hosts, switches and policies
Limited TCAM space in switches
Support host mobility
No hardware changes to commodity switchesProblems of Pre-install Rules in Switches
No host mobility support
Switches do not have enough memory for ALL rulesProblems for Install Rules on Demand (Ethane, NOX)
Delay of going through the controller
Switch complexity, session table is too large
Misbehaving hosts trigger excessive cache missesDIFANE is Combining Proactive & Reactive
two stages of DIFANE
1.The controller proactively generates the rules and distributes them to authority switches. 
2.The authority switches keep packets always in the data plane and reactively cache rules. Partition Wildcard Rules
Like packet classificationDelay Evaluation
Average delay (RTT) of the first packet
NOX: 10 ms vs. DIFANE: 0.4 msPeak Throughput
DIFANE further increases the throughput linearly with the number of authority switches.DIFANE is a balance between All functions in switches and OpenFlow/NOX.
Discussion:
李老师：Openflow原本功能是在实际运营网络中分出实验网络，这篇文章将OpenFlow的controller思想应用于实际运营网络，试图解决性能问题。比较新颖。但是不能只有一个controller。
亚烜：What's behind DIFANE?
1) distributed dataplane of Nox.
2) HiCuts.
3) TCAM encoding.
4) PSwitch (not mentioned in the paper, but step1 is like PSwitch)
This paper points out weakness of Ethane, but brings about more problems.李老师：Step2很像Ethane。和Ethane相比不太公平，因为DIFANE没有说在cache rules那一个来回的过程中的开销，ethane是把第一个包之后的包buffer起来不查，而DIFANE在重新写入路由前，每一个包都要查。ethane计算代价小，传输时延未知。
李老师：IPTV的rules有5M，为什么这么大？
何飞：同一个运营商的另一张IP网更多，8M。平均下来不算太多。每个switch上的rules可能有重复。
陈震：可能每一个switch上都有全局的表。因为每个路由器都需要知道全局拓扑。
李老师：本期电子学报的一篇《路由器分布式控制研究综述》不错，内容为：路由器的控制平面要过载了，需要解决，其中一个解决方案为路由器做成分布式的。其中关键问题为：1、分布式控制平面之间的通信、2、分布式控制平面内部不同部件之间通信。3、分布式路由器协议和算法。每一项都列出了很多相关文章。
